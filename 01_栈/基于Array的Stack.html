<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    // 4.2.1 创建一个基于数组的栈
    /*
      栈结构：遵循先进后出(LIFO)原则的有序集合，新添加或待删除的元素都保存在栈顶，另一端叫栈底。
      在栈里新的元素都靠近栈顶，旧的元素都接近栈底。
        栈的几个功能
        push(element(s)): 添加一个或多个元素到栈顶 
        pop():            移除栈顶的元素，同时返回该元素 
        peek():           返回栈顶的元素
        isEmpty():        检查栈是否为空，为空返回true，不为空返回false
        clear():          移除栈里所有元素
        size() :          返回栈里的个数
    */
    /*——————————————————————————————————————————————————————————————————————————————————————————*/
    class Stack {
      constructor() {
        this.items = [];
      }
      // push(element(s)): 添加一个或多个元素到栈顶 
      push(element) {
        this.items.push(element)
      }
      // pop():            移除栈顶的元素，同时返回该元素
      pop() {
        return this.items.pop()
      }
      // peek():           返回栈顶的元素
      peek() {
        return this.items[this.items.length - 1]
      }
      // isEmpty():        检查栈是否为空，为空返回true，不为空返回false
      isEmpty() {
        return this.items.length === 0
      }
      // clear():          移除栈里所有元素
      clear() {
        this.items = []
      }
      // size() :          返回栈里的个数
      size() {
        return this.items.length
      }
    }
    /*——————————————————————————————————————————————————————————————————————————————————————————*/
    const stack = new Stack()
    console.log(stack)
    console.log(stack.isEmpty())
    stack.push(1)
    stack.push(1)
    stack.push(1)
    stack.push(1)
    console.log(stack)
    console.log(stack.push)


    // 基于数组的十进制到二进制
    function decimalToBinary(decNumber) {
      const remStack = new Stack()
      let number = decNumber
      let rem
      let binaryString = ''
      while (number > 0) {
        // 取出余数
        rem = Math.floor(number % 2)
        // 压入栈
        remStack.push(rem)
        // 得到除2的结果
        number = Math.floor(number / 2)
        console.log(remStack)
      }
      while (!remStack.isEmpty()) {
        binaryString += remStack.pop().toString()
      }
      return binaryString
    }
    console.log(stack)
    console.log(decimalToBinary(10))
    // 
    function baseConverter(decNumber, base) {
      const remStack = new Stack()
      const digits = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'
      let number = decNumber
      let rem
      let baseString = ''
      if (!(base >= 2 && base <= 36)) {
        return ''
      }
      // 入栈
      while (number > 0) {
        rem = Math.floor(number % base)
        remStack.push(rem)
        number = Math.floor(number / base)
      }
      // 出栈
      while (!remStack.isEmpty()) {
        baseString += digits[remStack.pop()]
      }
      return baseString
    }
    console.log(baseConverter(100345, 8))
  </script>
</body>

</html>